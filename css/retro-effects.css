/* ==========================================
   TaurusTech Retro Effects Pack — Final
   CRT, Glow, and 90s Footer Enhancements
   ========================================== */

/* Smooth fade between modes */
html {
  transition: background-color 0.6s ease, color 0.6s ease, filter 0.6s ease;
}

/* --- CRT Glow for Text --- */
html:not(.retro-off) body,
html:not(.retro-off) p,
html:not(.retro-off) li,
html:not(.retro-off) h1,
html:not(.retro-off) h2,
html:not(.retro-off) h3 {
  text-shadow: 0 0 2px #00FF00, 0 0 5px #00FF00;
}

/* --- Global Scanline Overlay --- */
html:not(.retro-off) body::after {
  content: "";
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  pointer-events: none;
  background: repeating-linear-gradient(
    to bottom,
    rgba(255,255,255,0.02) 0,
    rgba(255,255,255,0.02) 1px,
    transparent 2px,
    transparent 3px
  );
  mix-blend-mode: overlay;
  animation: scanline-shift 4s linear infinite;
  z-index: 9999;
}
@keyframes scanline-shift {
  0% { background-position: 0 0; }
  100% { background-position: 0 3px; }
}

/* --- Retro Cursor --- */
html:not(.retro-off) body,
html:not(.retro-off) a,
html:not(.retro-off) button,
html:not(.retro-off) input {
  cursor: url("/images/cursor-pointer.cur"), auto;
}

/* --- Hyperlink Glow --- */
html:not(.retro-off) a:hover {
  color: #00FFFF;
  text-shadow: 0 0 6px #00FFFF, 0 0 10px #00FFFF;
}

/* ==========================================
   Footer Glow System (90s Mode)
   ========================================== */

html:not(.retro-off) footer {
  position: relative;
  background: radial-gradient(circle at center, rgba(0,30,0,0.85), rgba(0,0,0,0.95));
  color: #00FF00;
  border-top: 1px dashed rgba(0,255,0,0.4);
  box-shadow: 0 0 20px rgba(0,255,0,0.4);
  padding: 20px 0;
  animation: footer-glow-cycle 12s ease-in-out infinite;
}

/* Footer scanlines overlay */
html:not(.retro-off) footer::after {
  content: "";
  position: absolute;
  top: 0; left: 0;
  width: 100%; height: 100%;
  background: repeating-linear-gradient(
    to bottom,
    rgba(255,255,255,0.025) 0,
    rgba(255,255,255,0.025) 1px,
    transparent 2px,
    transparent 3px
  );
  pointer-events: none;
  mix-blend-mode: overlay;
  opacity: 0.75;
  animation: scanline-shift 4s linear infinite;
}

/* WebTV Logo Pulse */
html:not(.retro-off) .webtv-logo {
  animation: webtv-pulse 3s ease-in-out infinite;
}
@keyframes webtv-pulse {
  0%, 100% {
    filter: brightness(1.6)
            drop-shadow(0 0 6px #00FFFF)
            drop-shadow(0 0 12px #00FFFF);
  }
  50% {
    filter: brightness(2.0)
            drop-shadow(0 0 10px #00FFFF)
            drop-shadow(0 0 18px #00FFFF);
  }
}

/* Footer glow cycle */
@keyframes footer-glow-cycle {
  0% { box-shadow: 0 0 20px #00FF00, inset 0 0 30px #004400; }
  50% { box-shadow: 0 0 25px #00FFFF, inset 0 0 40px #002244; }
  100% { box-shadow: 0 0 20px #00FF00, inset 0 0 30px #004400; }
}

/* --- Retro Button Pulse --- */
html:not(.retro-off) #toggleRetro {
  background: linear-gradient(180deg, #000000 0%, #002000 100%);
  color: #00FF00;
  border: 1px solid #00FF00;
  border-radius: 4px;
  text-shadow: 0 0 5px #00FF00;
  box-shadow: 0 0 10px rgba(0,255,0,0.5);
  animation: pulse 2s infinite;
}
@keyframes pulse {
  0%,100% { box-shadow: 0 0 4px #00FF00; }
  50% { box-shadow: 0 0 10px #00FF00; }
}
html:not(.retro-off) #toggleRetro:hover {
  background: linear-gradient(180deg, #002000 0%, #004000 100%);
  color: #00FFFF;
}

/* ==========================================
   CRT Power Animations
   ========================================== */

@keyframes crt-shutdown {
  0%   { opacity: 0; transform: scaleY(1); }
  40%  { opacity: 1; transform: scaleY(0.05); }
  60%  { opacity: 1; transform: scaleY(0.05); }
  100% { opacity: 0; transform: scaleY(0); }
}
.crt-flicker-overlay {
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  background: #000;
  opacity: 0;
  transform-origin: center;
  pointer-events: none;
  z-index: 99999;
  animation: crt-shutdown 0.9s ease-in-out forwards;
}

@keyframes crt-bootup {
  0%   { opacity: 0; }
  20%  { opacity: 1; background: #fff; }
  100% { opacity: 0; }
}
.crt-bootup-overlay {
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  background: #fff;
  opacity: 0;
  pointer-events: none;
  z-index: 99999;
  animation: crt-bootup 1s ease-in-out forwards;
}

/* ==========================================
   Footer Badge CRT Flicker Effect
   ========================================== */

html:not(.retro-off) footer .browser-badges .badge img {
  animation: crt-badge-flicker 4s infinite ease-in-out alternate;
}
@keyframes crt-badge-flicker {
  0%, 100% { filter: brightness(1.3) drop-shadow(0 0 5px #00FFFF); }
  50% { filter: brightness(1.8) drop-shadow(0 0 10px #00FF00); }
}

/* ==========================================
   Retro Mode OFF — Clean Revert
   ========================================== */
html.retro-off body,
html.retro-off footer {
  background: #000 !important;
  color: #ddd !important;
  text-shadow: none !important;
  border-top: 2px dashed #888 !important;
  box-shadow: none !important;
  animation: none !important;
}

/* Remove scanlines and CRT elements */
html.retro-off body::after,
html.retro-off footer::after {
  display: none !important;
}

/* Reset glowing buttons */
html.retro-off #toggleRetro {
  background: #000;
  color: #0f0;
  border: 1px solid #0f0;
  border-radius: 4px;
  font-family: "Courier New", monospace;
  padding: 0.4em 1.2em;
}
html.retro-off #toggleRetro:hover {
  background: #0f0;
  color: #000;
}

/* Simplify cursor */
html.retro-off,
html.retro-off body,
html.retro-off a,
html.retro-off button,
html.retro-off input,
html.retro-off textarea {
  cursor: auto !important;
}

/* Remove flickers, pulses, and text glow */
html.retro-off *,
html.retro-off img,
html.retro-off span,
html.retro-off a {
  animation: none !important;
  text-shadow: none !important;
  box-shadow: none !important;
  filter: brightness(1) !important;
}

footer .browser-badges img:hover {
  transform: scale(1.08);
  filter: brightness(1.8) drop-shadow(0 0 10px #00FF00);
}
